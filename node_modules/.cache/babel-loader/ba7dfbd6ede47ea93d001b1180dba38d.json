{"ast":null,"code":"import _slicedToArray from\"/Users/maclyuqi/clothes-store/MyProfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import{createUserDocFrom,OnAuthstatecahngeListener}from\"../utilities/firebase.utils\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Usercontext=/*#__PURE__*/createContext({currentUser:null,setcurrentUser:function setcurrentUser(){return null;}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setcurrentUser=_useState2[1];var value={currentUser:currentUser,setcurrentUser:setcurrentUser};//get value and set funciton by value\nuseEffect(function(){OnAuthstatecahngeListener(function(user){if(user){createUserDocFrom(user);}console.log(user);setcurrentUser(user);});},[]);//keep tacking auth from firebase\nreturn/*#__PURE__*/_jsx(Usercontext.Provider,{value:value,children:children});};//children","map":{"version":3,"names":["createContext","useEffect","useState","createUserDocFrom","OnAuthstatecahngeListener","Usercontext","currentUser","setcurrentUser","UserProvider","children","value","user","console","log"],"sources":["/Users/maclyuqi/clothes-store/MyProfolio/src/context/user.context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport { createUserDocFrom, OnAuthstatecahngeListener } from \"../utilities/firebase.utils\";\nexport const Usercontext =  createContext({\n    currentUser : null,\n    setcurrentUser : ()=>null,\n});\n\nexport const UserProvider = ({children}) =>{\n    const[currentUser,setcurrentUser] = useState(null);\n    const value = {currentUser,setcurrentUser};//get value and set funciton by value\n\n    useEffect(()=>{\n       OnAuthstatecahngeListener((user)=>{\n        if(user)\n        {\n            createUserDocFrom(user);\n        }\n        console.log(user); \n        setcurrentUser(user);\n       });\n    },[]);//keep tacking auth from firebase\n\n    return <Usercontext.Provider value={value}>{children}</Usercontext.Provider>\n}\n//children "],"mappings":"8HAAA,OAASA,aAAT,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,iBAAT,CAA4BC,yBAA5B,KAA6D,6BAA7D,C,2CACA,MAAO,IAAMC,YAAW,cAAIL,aAAa,CAAC,CACtCM,WAAW,CAAG,IADwB,CAEtCC,cAAc,CAAG,gCAAI,KAAJ,EAFqB,CAAD,CAAlC,CAKP,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,MAAe,IAAbC,SAAa,MAAbA,QAAa,CACvC,cAAoCP,QAAQ,CAAC,IAAD,CAA5C,wCAAMI,WAAN,eAAkBC,cAAlB,eACA,GAAMG,MAAK,CAAG,CAACJ,WAAW,CAAXA,WAAD,CAAaC,cAAc,CAAdA,cAAb,CAAd,CAA2C;AAE3CN,SAAS,CAAC,UAAI,CACXG,yBAAyB,CAAC,SAACO,IAAD,CAAQ,CACjC,GAAGA,IAAH,CACA,CACIR,iBAAiB,CAACQ,IAAD,CAAjB,CACH,CACDC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAJ,cAAc,CAACI,IAAD,CAAd,CACA,CAPwB,CAAzB,CAQF,CATQ,CASP,EATO,CAAT,CASM;AAEN,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAED,KAA7B,UAAqCD,QAArC,EAAP,CACH,CAhBM,CAiBP"},"metadata":{},"sourceType":"module"}